(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();const u=[];for(let a=0;a<256;++a)u.push((a+256).toString(16).slice(1));function L(a,t=0){return(u[a[t+0]]+u[a[t+1]]+u[a[t+2]]+u[a[t+3]]+"-"+u[a[t+4]]+u[a[t+5]]+"-"+u[a[t+6]]+u[a[t+7]]+"-"+u[a[t+8]]+u[a[t+9]]+"-"+u[a[t+10]]+u[a[t+11]]+u[a[t+12]]+u[a[t+13]]+u[a[t+14]]+u[a[t+15]]).toLowerCase()}let d;const b=new Uint8Array(16);function x(){if(!d){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");d=crypto.getRandomValues.bind(crypto)}return d(b)}const E=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p={randomUUID:E};function N(a,t,i){var e;a=a||{};const r=a.random??((e=a.rng)==null?void 0:e.call(a))??x();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,L(r)}function y(a,t,i){return p.randomUUID&&!a?p.randomUUID():N(a)}const g=document.getElementById("svgContainer");let l=[],h=[],f=[],m=[],S=[],o={England:{landNames:["Cly","Edi","Lvp","Yor","Wal","Lon"]},Germany:{landNames:["Kie","Ruh","Mun","Ber","Sil","Pru"]},Russia:{landNames:["Fin","Stp","Mos","Lvn","War","Ukr","Sev"]},Turkey:{landNames:["Con","Ank","Smy","Syr","Arm"]},AustroHungarian:{landNames:["Gal","Vie","Bud","Tyr","Boh","Tri"]},Italy:{landNames:["Pie","Ven","Tus","Rom","Apu","Nap"],landObjects:[]},France:{landNames:["Pic","Bre","Par","Bur","Gas","Mar"]},Neutral:{landNames:["Spa","Por","Bel","Hol","Den","Nwy","Swe","Rum","Bul","Ser","Gre","Alb","Naf","Tun"]}},s={isDragging:!1,arrow:null,draggingElement:null,x_initial:0,y_initial:0,x_delta:0,y_delta:0,x_initial_translate:0,y_initial_translate:0};fetch("/mapsvg").then(a=>a.text()).then(a=>{if(g){g.innerHTML=a;const i=g.querySelector("svg").querySelectorAll("g");v(i),I()}}).catch(a=>{console.error("Error fetching SVG:",a)});function v(a){a.forEach(t=>{const i=t.querySelector("text");let r="neutral";if(["england","germany","russia","turkey","austrohungarian","italy","france"].forEach(n=>{t.querySelector("path").classList.contains(n)&&(r=n)}),t.id=="F"&&(m.push({group:t,uuid:y()}),t.classList.add("fleet"),t.classList.add(r)),t.id=="A"&&(f.push({group:t,uuid:y()}),t.classList.add("army"),t.classList.add(r)),t.id=="sc"&&(S.push({group:t,uuid:y(),country:r}),t.classList.add("source"),t.classList.add(r)),i){const n=i.id;n.length==3&&(n.toUpperCase()===n?h.push({group:t,name:n}):o.Italy.landNames.includes(n)?(t.querySelector("path").classList.add("italy"),l.push({group:t,name:n,country:"italy"}),o.Italy.landObjects.push({group:t,name:n,country:"italy"})):o.France.landNames.includes(n)?(t.querySelector("path").classList.add("france"),l.push({group:t,name:n,country:"france"}),o.Italy.landObjects.push({group:t,name:n,country:"france"})):o.Russia.landNames.includes(n)?(t.querySelector("path").classList.add("russia"),l.push({group:t,name:n,country:"russia"}),o.Italy.landObjects.push({group:t,name:n,country:"russia"})):o.Turkey.landNames.includes(n)?(t.querySelector("path").classList.add("turkey"),l.push({group:t,name:n,country:"turkey"}),o.Italy.landObjects.push({group:t,name:n,country:"turkey"})):o.England.landNames.includes(n)?(t.querySelector("path").classList.add("england"),l.push({group:t,name:n,country:"england"}),o.Italy.landObjects.push({group:t,name:n,country:"england"})):o.AustroHungarian.landNames.includes(n)?(t.querySelector("path").classList.add("austrohungarian"),l.push({group:t,name:n,country:"austrohungarian"}),o.Italy.landObjects.push({group:t,name:n,country:"austrohungarian"})):o.Germany.landNames.includes(n)?(t.querySelector("path").classList.add("germany"),l.push({group:t,name:n,country:"germany"}),o.Italy.landObjects.push({group:t,name:n,country:"germany"})):o.Neutral.landNames.includes(n)?(t.querySelector("path").classList.add("neutral"),l.push({group:t,name:n}),o.Italy.landObjects.push({group:t,name:n,country:"neutral"})):l.push({group:t,name:n}))}})}function I(){l.forEach(a=>{a.group.addEventListener("mouseover",t=>{const i=document.getElementById("info");let r="Land body: "+a.name;a.country&&(r+=", Country: "+a.country),i.textContent=r})}),h.forEach(a=>{a.group.addEventListener("mouseover",t=>{const i=document.getElementById("info"),r="Water body: "+a.name;i.textContent=r})}),f.concat(m).forEach(a=>{const t=a.group,i=t.getBBox();i.x+i.width/2,i.y+i.height/2,t.addEventListener("mousedown",r=>{s.isDragging=!0,s.draggingElement=t,s.x_initial=r.clientX,s.y_initial=r.clientY,s.x_initial_translate=0,s.y_initial_translate=0;const e=t.getAttribute("transform");if(e){const c=e.slice(10,-1).split(", ").map(_=>Number(_));c&&(s.x_initial_translate=c[0],s.y_initial_translate=c[1])}})}),document.addEventListener("mousemove",a=>{s.isDragging&&(s.x_delta=a.clientX-s.x_initial,s.y_delta=a.clientY-s.y_initial,s.draggingElement.setAttribute("transform",`translate(${s.x_delta+s.x_initial_translate}, ${s.y_delta+s.y_initial_translate})`),a.clientX,a.clientY)}),document.addEventListener("mouseup",()=>{s.isDragging=!1,s.draggingElement=null,s.arrow=null})}console.log("ts entrypoint loaded");
